<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Quiz App</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #6f42c1; /* purple background */
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        color: white;
    }

    header {
        width: 100%;
        background: #4e0da5;
        color: white;
        padding: 1.5rem;
        text-align: center;
        font-size: 2rem;
        font-weight: bold;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .card-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin: 2rem 0;
        gap: 2rem;
    }

    .card {
        background: #8e44ad;
        width: 200px;
        height: 150px;
        border-radius: 20px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.2rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        padding: 1rem;
    }

    .card:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 25px rgba(0,0,0,0.4);
    }

    #quiz-card, #result-card {
        display: none;
        width: 90%;
        max-width: 900px;
        margin: 1rem auto;
        padding: 2rem;
        background: white;
        border-radius: 15px;
        color: black;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    #question-text {
        font-size: 1.3rem;
        margin-bottom: 1.5rem;
    }

    .option-btn {
        display: block;
        width: 100%;
        text-align: left;
        padding: 0.8rem 1rem;
        margin: 0.5rem 0;
        border: 2px solid #6f42c1;
        border-radius: 10px;
        background: white;
        cursor: pointer;
        transition: all 0.3s;
    }

    .option-btn:hover {
        background: #f1f1f1;
    }

    .correct { background: #28a745 !important; color: white; }
    .wrong { background: #dc3545 !important; color: white; }

    .btn-container {
        display: flex;
        justify-content: space-between;
        margin-top: 1rem;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .btn {
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1rem;
        color: white;
        background: #6f42c1;
        transition: 0.3s;
    }

    .btn:hover { background: #4e0da5; }

    #timer {
        font-size: 1.2rem;
        margin-bottom: 1rem;
        color: #333;
    }

    #result {
        font-size: 1.4rem;
        text-align: center;
    }
</style>
</head>
<body>

<header>Ultimate Quiz App</header>

<!-- Home with Four Cards -->
<div class="card-container" id="home-cards">
    <div class="card" onclick="startQuiz('15')">15 Questions</div>
    <div class="card" onclick="startQuiz('30')">30 Questions</div>
    <div class="card" onclick="startQuiz('all')">All Questions</div>
    <div class="card" onclick="startReadMode()">Read Mode</div>
</div>

<!-- Quiz Card -->
<div id="quiz-card">
    <div id="timer"></div>
    <div id="question-text"></div>
    <div id="options"></div>
    <div class="btn-container">
        <button class="btn" onclick="prevQuestion()">Previous</button>
        <button class="btn" onclick="nextQuestion()">Next</button>
        <button class="btn" onclick="submitQuiz()">Submit</button>
        <button class="btn" onclick="backHome()">Home</button>
    </div>
</div>

<!-- Result Card -->
<div id="result-card">
    <div id="result"></div>
    <button class="btn" onclick="backHome()">Back to Home</button>
</div>

<script>
// ====== Questions ======
// Replace the [...] below with your full 110 questions later
const questions = [
    {
        question: "The major role of WBCs is:",
        options: ["vasodilation", "transport of digested food", "combating infections", "none"],
        answer: 2
    },
    {
        question: "The organ responsible for the destruction of platelet is:",
        options: ["spleen", "heart", "kidney", "tissues"],
        answer: 0
    },
    {
        question: "One of the following is not a waste product of metabolism:",
        options: ["urea", "faeces", "water", "COâ‚‚"],
        answer: 1
    },
    {
        question: "Gaseous exchange in plants is through stomata and:",
        options: ["cambium", "cuticle", "lenticels", "epidermis"],
        answer: 2
    },
    {
        question: "Which of these is not an event occurring during interphase?",
        options: ["Organelles duplication", "DNA replication", "chromosome separation", "DNA repair"],
        answer: 2
    },
    /* ... add the rest of your 110 questions here ... */
];

// ====== Variables ======
let currentQuestionIndex = 0;
let selectedMode = 'all';
let userAnswers = [];
let timerInterval;
let timeLeft = 0;

// ====== Functions ======
function startQuiz(mode) {
    selectedMode = mode;
    currentQuestionIndex = 0;
    userAnswers = [];
    document.getElementById('home-cards').style.display = 'none';
    document.getElementById('quiz-card').style.display = 'block';
    loadQuestion();
    startTimer();
}

function startReadMode() {
    selectedMode = 'read';
    currentQuestionIndex = 0;
    userAnswers = [];
    document.getElementById('home-cards').style.display = 'none';
    document.getElementById('quiz-card').style.display = 'block';
    loadQuestion(true);
}

function loadQuestion(readMode=false) {
    let q;
    if (selectedMode === '15' || selectedMode === '30') {
        // select random questions
        let count = selectedMode === '15' ? 15 : 30;
        q = [...questions].sort(() => Math.random() - 0.5).slice(0, count);
    } else {
        q = questions;
    }

    window.currentQuestions = q; // save globally for navigation

    const question = q[currentQuestionIndex];
    document.getElementById('question-text').innerText = `Q${currentQuestionIndex + 1}: ${question.question}`;
    const optionsDiv = document.getElementById('options');
    optionsDiv.innerHTML = '';

    question.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.innerText = opt;
        btn.onclick = () => selectAnswer(idx, readMode);
        if (readMode && idx === question.answer) btn.classList.add('correct');
        optionsDiv.appendChild(btn);
    });
}

function selectAnswer(idx, readMode=false) {
    if (readMode) return;
    userAnswers[currentQuestionIndex] = idx;

    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach((btn, i) => {
        btn.classList.remove('correct', 'wrong');
        if (i === questions[currentQuestionIndex].answer && i === idx) btn.classList.add('correct');
        else if (i === idx) btn.classList.add('wrong');
    });
}

function nextQuestion() {
    if (currentQuestionIndex < window.currentQuestions.length - 1) {
        currentQuestionIndex++;
        loadQuestion(selectedMode === 'read');
    }
}

function prevQuestion() {
    if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        loadQuestion(selectedMode === 'read');
    }
}

function submitQuiz() {
    clearInterval(timerInterval);
    let score = 0;
    window.currentQuestions.forEach((q, i) => {
        if (userAnswers[i] === q.answer) score++;
    });
    document.getElementById('quiz-card').style.display = 'none';
    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = `Your score: ${score} / ${window.currentQuestions.length}`;
    document.getElementById('result-card').style.display = 'block';
}

function backHome() {
    clearInterval(timerInterval);
    document.getElementById('result-card').style.display = 'none';
    document.getElementById('quiz-card').style.display = 'none';
    document.getElementById('home-cards').style.display = 'flex';
}

function startTimer() {
    timeLeft = (selectedMode === '15') ? 15*60 : (selectedMode === '30') ? 30*60 : 0;
    if (timeLeft === 0) { document.getElementById('timer').innerText = ''; return; }

    document.getElementById('timer').innerText = `Time Left: ${timeLeft} seconds`;
    clearInterval(timerInterval);
    timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').innerText = `Time Left: ${timeLeft} seconds`;
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            submitQuiz();
        }
    }, 1000);
}
</script>

</body>
</html>
