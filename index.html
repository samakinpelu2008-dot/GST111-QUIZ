<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Admin Panel</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
  textarea { width: 100%; height: 300px; }
  button { padding: 10px 20px; margin-top: 10px; cursor: pointer; }
  .message { margin-top: 10px; font-weight: bold; }
</style>
</head>
<body>

<h2>Quiz Admin Panel</h2>
<p>Paste your questions below in this format:</p>
<pre>
{question: "Question text", options: ["A","B","C","D"], answer: 0},
</pre>

<textarea id="questionInput" placeholder="Paste questions here..."></textarea>
<br>
<button onclick="saveQuestions()">Save Questions</button>

<div class="message" id="message"></div>

<script>
let quizDatabase = []; // This will store all quiz questions

function saveQuestions() {
    const input = document.getElementById('questionInput').value.trim();
    if (!input) {
        document.getElementById('message').textContent = "Please paste some questions!";
        return;
    }

    try {
        // Wrap the input in brackets to make it an array
        const formattedInput = '[' + input.replace(/,\s*$/,'') + ']'; // remove trailing comma
        const newQuestions = JSON.parse(formattedInput);
        
        // Validate each question
        for (let q of newQuestions) {
            if (!q.question || !q.options || typeof q.answer !== 'number') {
                throw new Error("Each question must have 'question', 'options', and 'answer'.");
            }
        }

        // Add to main database
        quizDatabase = quizDatabase.concat(newQuestions);

        // Clear textarea and show success
        document.getElementById('questionInput').value = '';
        document.getElementById('message').textContent = `Saved ${newQuestions.length} questions successfully!`;

        console.log("Current Quiz Database:", quizDatabase); // for testing
    } catch (err) {
        document.getElementById('message').textContent = "Error: Invalid question format!";
        console.error(err);
    }
}
</script>

</body>
</html>
